{
  "version": "1.0.0",
  "created": "2026-01-11",
  "task": "T049",
  "description": "Build performance baseline for A.R.C. services",
  "targets": {
    "warm_build_max_seconds": 60,
    "cold_build_max_seconds": 300,
    "python_image_max_mb": 500,
    "go_image_max_mb": 50,
    "base_image_max_mb": 300,
    "cache_hit_rate_min_percent": 85
  },
  "services": {
    "arc-sherlock-brain": {
      "language": "python",
      "expected_warm_build_seconds": 30,
      "expected_cold_build_seconds": 120,
      "expected_image_size_mb": 350,
      "notes": "LangGraph reasoning engine with pgvector"
    },
    "arc-scarlett-voice": {
      "language": "python",
      "expected_warm_build_seconds": 45,
      "expected_cold_build_seconds": 180,
      "expected_image_size_mb": 400,
      "notes": "LiveKit voice agent with Whisper STT, includes ML models"
    },
    "arc-piper-tts": {
      "language": "python",
      "expected_warm_build_seconds": 40,
      "expected_cold_build_seconds": 150,
      "expected_image_size_mb": 300,
      "notes": "TTS service with Piper models"
    },
    "raymond": {
      "language": "go",
      "expected_warm_build_seconds": 15,
      "expected_cold_build_seconds": 60,
      "expected_image_size_mb": 30,
      "notes": "Go utility service, statically compiled"
    }
  },
  "base_images": {
    "arc-base-python-ai": {
      "expected_size_mb": 250,
      "includes": [
        "python:3.11-alpine3.19",
        "libpq",
        "curl",
        "wget",
        "non-root user"
      ]
    },
    "arc-base-go-infra": {
      "expected_size_mb": 30,
      "includes": [
        "alpine:3.19",
        "ca-certificates",
        "non-root user"
      ],
      "status": "planned"
    }
  },
  "optimization_techniques": {
    "multi_stage_builds": {
      "description": "Separate build and runtime stages",
      "impact": "50-80% size reduction",
      "enabled": true
    },
    "cache_mounts": {
      "description": "Mount pip/go caches for faster rebuilds",
      "impact": "60-90% faster warm builds",
      "enabled": true
    },
    "layer_ordering": {
      "description": "Order layers from least to most frequently changed",
      "impact": "Better cache hit rates",
      "enabled": true
    },
    "dockerignore": {
      "description": "Exclude unnecessary files from build context",
      "impact": "Faster context transfer",
      "enabled": true
    },
    "alpine_images": {
      "description": "Use Alpine-based images for smaller size",
      "impact": "5-10x smaller than Debian",
      "enabled": true
    }
  },
  "ci_thresholds": {
    "fail_on_size_violation": true,
    "fail_on_build_time_violation": false,
    "warn_on_cache_miss": true,
    "size_violation_tolerance_percent": 10
  }
}
