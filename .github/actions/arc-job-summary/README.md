# A.R.C. Job Summary

Composite action to generate formatted job summaries with visual indicators.

## Purpose

Creates consistent, readable job summaries that appear on the GitHub Actions run page:
- Visual status indicators (emojis)
- Structured result tables
- Links to runs and commits
- Support for multiple summary types

## Usage

### Basic Usage

```yaml
steps:
  - name: Generate Summary
    uses: ./.github/actions/arc-job-summary
    with:
      status: success
      title: 'Build Results'
```

### With Results JSON

```yaml
steps:
  - name: Save results
    run: |
      cat > results.json << 'EOF'
      {
        "builds": [
          {"service": "arc-sherlock-brain", "status": "success", "duration": "45s", "size": "445MB"},
          {"service": "arc-scarlett-voice", "status": "success", "duration": "38s", "size": "412MB"}
        ]
      }
      EOF

  - name: Generate Summary
    uses: ./.github/actions/arc-job-summary
    with:
      status: success
      results-json: results.json
      summary-type: build
```

## Inputs

| Input | Description | Required | Default |
|-------|-------------|----------|---------|
| `title` | Summary title | No | `A.R.C. CI/CD Results` |
| `status` | Overall status | Yes | - |
| `results-json` | Path to JSON file | No | `` |
| `summary-type` | Type of summary | No | `build` |
| `additional-content` | Extra markdown | No | `` |

## Outputs

| Output | Description |
|--------|-------------|
| `summary-path` | Path to generated summary |

## Summary Types

### Build Summary

```json
{
  "builds": [
    {"service": "name", "status": "success", "duration": "45s", "size": "445MB"}
  ]
}
```

### Security Summary

```json
{
  "vulnerabilities": {
    "CRITICAL": 0,
    "HIGH": 2,
    "MEDIUM": 5
  }
}
```

### Validation Summary

```json
{
  "checks": [
    {"name": "Dockerfile lint", "passed": true, "details": "7 files checked"},
    {"name": "Structure check", "passed": false, "details": "SERVICE.MD outdated"}
  ]
}
```

### Deployment Summary

```json
{
  "deployments": [
    {"service": "api", "env": "staging", "status": "success", "url": "https://staging.example.com"}
  ]
}
```

## Status Indicators

| Status | Emoji |
|--------|-------|
| `success` | âœ… |
| `failure` | âŒ |
| `warning` | âš ï¸ |
| (other) | ðŸ”„ |

## Example Output

```markdown
## âœ… A.R.C. CI/CD Results

**Run:** [12345678](https://github.com/org/repo/actions/runs/12345678)
**Commit:** [`abc1234`](https://github.com/org/repo/commit/abc1234...)
**Triggered by:** developer

### Results

| Service | Status | Duration | Size |
|---------|--------|----------|------|
| arc-sherlock-brain | âœ… | 45s | 445MB |
| arc-scarlett-voice | âœ… | 38s | 412MB |

---
_Generated by A.R.C. CI/CD_
```
